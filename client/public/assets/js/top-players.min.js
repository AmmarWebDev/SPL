"use strict";const topPlayersSection=document.getElementById("top-players");document.querySelector('.navbar-collapse a[href="index.html"]').classList.toggle("active"),document.querySelector('.navbar-collapse a[href="top-players.html"]').classList.toggle("active");const leagues=["cwc","euros"],statTypes=["goals","assists"];leagues.forEach(((t,e)=>{const s="cwc"===t?"CWC":"Euros",a=document.createElement("h1");a.className="text-center mt-5",a.innerHTML=`\n    <img src="assets/images/${t}-logo.png" width="40" />\n    <span>SPL ${s}</span>\n    <img src="assets/images/${t}-logo.png" width="40" />\n  `,topPlayersSection.appendChild(a),Promise.all(statTypes.map((e=>axios.get(`https://spl-production.up.railway.app/${t}/top-${e}`)))).then((([t,a])=>{const n=t=>({id:`<@${t.userId}>`,username:t.username,nickname:t.nickname,avatar:t.avatar,teamName:t.teamName?.replace(/^„ÄäSPL„Äã( *\| *)?/i,"").trim()||"Unknown",teamIcon:t.teamIcon,goals:parseInt(t.goals)||0,assists:parseInt(t.assists)||0}),o=t.data.filter((t=>t.username)).map(n).slice(0,10),l=a.data.filter((t=>t.username)).map(n).slice(0,10),i=(t,e,a)=>{const n="goals"===a?"Goals":"Assists";return`\n          <h2 class="text-light text-center responsive-text">üèÜ Top 10 ${s} ${n} üèÜ</h2>\n          <table class="table table-striped table-bordered table-hover text-center w-100 my-3 mx-auto" style="max-width: 600px">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Player</th>\n                <th>Team</th>\n                <th>${n}</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${e.map(((t,e)=>`\n                <tr>\n                  <td class="align-middle">${e+1}.</td>\n                  <td class="align-middle text-center">\n                    <div class="d-flex align-items-center justify-between gap-2">\n                      <img src="${t.avatar}" width="32" height="32" style="border-radius: 50%" />\n                      <span class="w-100">${t.username}</span>\n                    </div>\n                  </td>\n                  <td class="align-middle text-center">\n                    <div class="d-flex align-items-center justify-content-center gap-2">\n                      <span>${t.teamName}</span>\n                      ${t.teamIcon?`<img src="${t.teamIcon}" width="20" height="20" />`:""}\n                    </div>\n                  </td>\n                  <td class="align-middle text-center">${t[a]}</td>\n                </tr>\n              `)).join("")}\n            </tbody>\n          </table>\n        `},r=i(0,o,"goals"),c=i(0,l,"assists");topPlayersSection.insertAdjacentHTML("beforeend",`\n        <div class="row">\n          <div class="col-12 col-lg-6">${r}</div>\n          <div class="col-12 col-lg-6">${c}</div>\n        </div>\n      `);const d=[];d.push(`# SPL ${s} Top 10 Scorers Till Now:`),o.forEach(((t,e)=>{if(t.goals>0){const s=1===t.goals?"goal":"goals";d.push(`### ${e+1}. ${t.id} (${t.teamName}): ${t.goals} ${s}`)}})),d.push(`\n# SPL ${s} Top 10 Assistors Till Now:`),l.forEach(((t,e)=>{if(t.assists>0){const s=1===t.assists?"assist":"assists";d.push(`### ${e+1}. ${t.id} (${t.teamName}): ${t.assists} ${s}`)}}));const m=document.createElement("button");m.className="btn btn-primary my-4 d-block mx-auto",m.textContent=`üìã Copy SPL ${s} Summary`,m.addEventListener("click",(()=>{navigator.clipboard.writeText(d.join("\n")).then((()=>{m.textContent="‚úÖ Copied!",setTimeout((()=>{m.textContent=`üìã Copy SPL ${s} Summary`}),2e3)})).catch((t=>{console.error("Copy failed",t),m.textContent="‚ùå Failed to Copy"}))})),topPlayersSection.appendChild(m),e!==leagues.length-1&&topPlayersSection.insertAdjacentHTML("beforeend",'<hr class="border-white border-2 opacity-100" style="margin:70px 0;" />')})).catch((t=>console.error("Error fetching API:",t)))}));