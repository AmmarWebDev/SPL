"use strict";const topPlayersSection=document.getElementById("top-players");document.querySelector('.navbar-collapse a[href="index.html"]').classList.toggle("active"),document.querySelector('.navbar-collapse a[href="top-players.html"]').classList.toggle("active");const leagues=["cwc","euros"],statTypes=["goals","assists"];!function(){const e=document.createElement("style");e.appendChild(document.createTextNode("\n    @media (max-width: 576px) {\n      .table-responsive {\n        overflow-x: scroll;\n        -webkit-overflow-scrolling: touch;\n      }\n      .table-responsive table {\n        width: auto;\n        max-width: none;\n      }\n      .table-responsive td, \n      .table-responsive th {\n        white-space: nowrap;\n      }\n      .player-info-cell {\n        max-width: 180px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n  ")),document.head.appendChild(e)}(),leagues.forEach(((e,t)=>{const s="cwc"===e?"CWC":"Euros";Promise.all(statTypes.map((t=>axios.get(`https://spl-production.up.railway.app/${e}/top-${t}`)))).then((([t,a])=>{const n=document.createElement("div");n.className="league-section";const l=document.createElement("h1");l.className="text-center mt-5",l.innerHTML=`\n        <img src="assets/images/${e}-logo.png" width="40" />\n        <span>SPL ${s}</span>\n        <img src="assets/images/${e}-logo.png" width="40" />\n      `,n.appendChild(l);const o=e=>({id:`<@${e.userId}>`,username:e.username||`<@${e.userId}>`,avatar:e.avatar,teamName:e.teamName?.replace(/^„ÄäSPL„Äã( *\| *)?/i,"").trim()||"Unknown",teamIcon:e.teamIcon,goals:parseInt(e.goals)||0,assists:parseInt(e.assists)||0}),c=t.data.map(o).slice(0,10),i=a.data.map(o).slice(0,10),r=(e,t,a)=>`\n        <h2 class="text-light text-center responsive-text">üèÜ Top 10 ${s} ${e} üèÜ</h2>\n        <div class="table-responsive">\n          <table class="table table-striped table-bordered table-hover text-center my-3">\n            <thead>\n              <tr>\n                <th class="rank-col">#</th>\n                <th class="player-col">Player</th>\n                <th class="team-col">Team</th>\n                <th class="stat-col">${e}</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${t.map(((e,t)=>`\n                <tr>\n                  <td class="align-middle rank-col">${t+1}.</td>\n                  <td class="align-middle player-col player-info-cell">\n                    <div class="d-flex align-items-center gap-2">\n                      <img src="${e.avatar}" width="32" height="32" style="border-radius:50%" />\n                      <span class="w-100">${e.username}</span>\n                    </div>\n                  </td>\n                  <td class="align-middle team-col player-info-cell">\n                    <div class="d-flex align-items-center gap-2 justify-content-center">\n                      <span>${e.teamName}</span>\n                      ${e.teamIcon?`<img src="${e.teamIcon}" width="20" height="20" />`:""}\n                    </div>\n                  </td>\n                  <td class="align-middle stat-col">${e[a]}</td>\n                </tr>\n              `)).join("")}\n            </tbody>\n          </table>\n        </div>\n      `;n.insertAdjacentHTML("beforeend",`<div class="row">\n          <div class="col-12 col-lg-6">${r("Goals",c,"goals")}</div>\n          <div class="col-12 col-lg-6">${r("Assists",i,"assists")}</div>\n        </div>`);const d=[];d.push(`# SPL ${s} Top 10 Scorers Till Now:`),c.forEach(((e,t)=>{const s=1===e.goals?"goal":"goals";d.push(`### ${t+1}. ${e.id} (${e.teamName}): ${e.goals} ${s}`)})),d.push(`\n# SPL ${s} Top 10 Assistors Till Now:`),i.forEach(((e,t)=>{const s=1===e.assists?"assist":"assists";d.push(`### ${t+1}. ${e.id} (${e.teamName}): ${e.assists} ${s}`)}));const p=document.createElement("button");p.className="btn btn-primary my-4 d-block mx-auto",p.textContent=`üìã Copy SPL ${s} Summary`,p.addEventListener("click",(()=>{navigator.clipboard.writeText(d.join("\n")).then((()=>p.textContent="‚úÖ Copied!")).catch((()=>p.textContent="‚ùå Failed to Copy")),setTimeout((()=>p.textContent=`üìã Copy SPL ${s} Summary`),2e3)})),n.appendChild(p),topPlayersSection.appendChild(n)})).catch((e=>console.error("Error fetching API:",e)))}));